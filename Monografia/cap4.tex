\chapter{Experimentos e Análise de Resultados}\label{resultados}
Este capítulo tem como objetivo descrever os experimentos realizados e resultados obtidos a partir da implementação do modelo descrito no Capítulo 3.

\section{Base de dados}
Como mencionado no capítulo anterior, o objetivo deste trabalho é auxiliar clientes na escolha de filmes em uma vídeo locadora. Foi desenvolvida uma rede auto-organizável, segundo o modelo de Teuvo Kohonen \cite{Kohonen1990}, com o fim de aprender o comportamento do usuário e poder guiá-lo em sua escolha. Para a realização dos testes foi utilizada uma base de dados real, extraindo as características que mais se adequam ao modelo proposto.

Inicialmente estava sendo negociada a obtenção dos dados de uma vídeo locadora da cidade, mas devido a entraves na política de segurança da empresa que fornece o sistema para esta locadora, não foi possível coletar os dados reais para teste de campo do sistema. A alternativa encaminhada foi utilizar uma base, também real, disponível abertamente na internet. A base de dados utilizada foi a MovieLens Data Set (http://www.grouplens.org), fornecida pelo grupo de pesquisa GroupLens Research. Essa base conta com 100.000 avaliações para 1682 filmes por 943 usuários. A base MovieLens foi construída a partir do sítio de recomendações de filmes: movielens.org. A base de dados MovieLens é assim organizada: 

\begin{itemize}
	\item Arquivo u.data: arquivo contendo 100.000 avaliações de 943 usuários para 1682 filmes. Cada usuário avaliou, no mínimo 20 títulos.
	\item Arquivo u.item: contém informações sobre os filmes, título, data de lançamento e gênero.
	\item Arquivo u.genre: lista de gêneros de filmes.
	\item Arquivo u.user: informação demográfica sobre os usuários: nome, idade, gênero, profissão.
	\item Arquivos de treinamento e teste: a base u.data é dividida em dois tipos de arquivos com a relação de 80\%/20\% para treinamento e teste, respectivamente.
\end{itemize}

Para o escopo deste trabalho, não serão utilizadas as avaliações dos usuários durante a fase de treinamento, pois fugiria ao objetivo que é fazer recomendações em ambientes de locadoras de filmes reais, onde não há o conceito de avaliação pelos clientes.

O ambiente de experimentos foi assim determinado:

Da base de filmes foram extraídos o número de identificação único do filme (ID), título do filme, ano de lançamento, gênero e número de vezes que aparece no arquivo de avaliações. Este último parâmetro representa, para a realidade do presente trabalho, o número de locações totais do filme na locadora. O arquivo de avaliações dos usuários representa as locações de cada cliente, portanto o mapa é construído cruzando as informações destas duas tabelas.

O arquivo de testes representa os filmes que o cliente deseja locar, então esses padrões são apresentados ao sistema com a rede já treinada. 

\section{Resultados}

Foram criadas tabelas para visualização e estudo dos resultados obtidos com os experimentos realizados.

O primeiro título apresentado nas tabelas é o filme que o cliente deseja locar, os três seguintes são os vizinhos mais próximos no mapa, que indicam ser semelhantes ao primeiro. Para a avaliação dos resultados foi considerada a nota ou avaliação que o usuário deu ao filme. Por exemplo, na Tabela \ref{Cliente1_Shangai}, o cliente 1 deseja locar o filme \emph{Shangai Triad}. Quando apresentado este filme à rede, o cliente obteve como resposta os filmes: \emph{The White Balloon}, \emph{Belle de jour} e \emph{Jean de Florette}, evidenciando factualmente que estes filmes têm similaridades com o primeiro. Observando os títulos que foram mostrados como relacionados, o cliente irá avaliar se vale a pena alugar o filme \emph{Shanghai Triad}. Para avaliar esse resultado, observa-se a coluna \textbf{Avaliação} da tabela, os filmes relacionados possuem avaliação de 4, 3 e 5, respectivamente, indicando que o cliente teve satisfação razoável a ótima ao assistí-los. Portanto, a interpretação desse resultado é que o filme \emph{Shanghai Triad} provavelmente irá agradar o cliente. A avaliação para o filme \emph{Shanghai Triad} foi de 5, ou seja, a satisfação do usuário foi muito boa.

\begin{table}[htbp]
	\centering
	\caption{Resultados para o cliente 1 e o filme \emph{Shangai Triad}}
		\begin{tabular}{|l|c|c|c|c|}
		  \hline
			\textbf{Título} & \textbf{Gênero} & \textbf{Ano} & \textbf{Número de locações} & \textbf{Avaliação} \\
			\hline
			Shanghai Triad & Drama & 1995 & 20 & 5 \\
			\hline
			White Balloon, The & Drama & 1995 & 7 & 4 \\
			\hline
			Belle de jour & Drama & 1967 & 30 & 3 \\
			\hline
			Jean de Florette & Drama & 1986 & 55 & 5 \\
			\hline
		\end{tabular}
	\label{Cliente1_Shangai}
\end{table}

O cliente 1 tem 135 títulos em seu histórico, quantidade que rendeu um bom aprendizado para a rede. De forma geral, foi observado que a rede conseguiu gerar um bom perfil para este cliente. A tabela \ref{Cliente1_Usual} mostra outro resultado para o cliente 1, a análise é feita de modo análogo à tabela anterior. O primeiro título representa o filme que o cliente ainda não locou, os três seguintes são os filmes mais similares ao primeiro. Observa-se que eles possuem alta similaridade em relação ao gênero e ao ano de lançamento. A satisfação do cliente é confirmada pela avaliação que deu aos filmes.

\begin{table}[htbp]
	\centering
	\caption{Resultados para o cliente 1 e o filme \emph{The Usual Suspects}}
		\begin{tabular}{|l|p{3cm}|c|c|c|}
		  \hline
			\textbf{Título} & \textbf{Gênero} & \textbf{Ano} & \textbf{Número de locações} & \textbf{Avaliação} \\
			\hline
			Usual Suspects, The & Crime/Suspense & 1995 & 211 & 5 \\
			\hline
			Seven (Se7en) & Crime/Suspense  & 1995 & 195 & 2 \\
			\hline
			Copycat & Crime/Drama/ Suspense & 1995 & 69 & 3 \\
			\hline
			Four Rooms & Suspense & 1995 & 75 & 4 \\
			\hline
		\end{tabular}
	\label{Cliente1_Usual}
\end{table}

A Tabela \ref{Cliente2_Mighty} mostra o resultado para o cliente 2, desejando alugar o filme \textit{Mighty Aphrodite}. Neste exemplo a rede também teve um bom desempenho em relação a encontrar filmes fortemente relacionados e que representam as preferências do cliente. O cliente 2 possui apenas 40 títulos no seu histórico. Observando a coluna Avaliação, que representa a satisfação do usuário, pode-se perceber que o sistema obteve bons resultados para este filme. Considerando esta métrica, os resultados para o cliente 2 foram, na maioria, satisfatórios, tendo o sistema errado poucas vezes no agrupamento dos títulos. 

\begin{table}[htbp]
	\centering
	\caption{Resultados para o cliente 2 e o filme \emph{Mighty Aphrodite}}
		\begin{tabular}{|l|c|c|c|c|}
		  \hline
			\textbf{Título} & \textbf{Gênero} & \textbf{Ano} & \textbf{Número de locações} & \textbf{Avaliação} \\
			\hline
			Mighty Aphrodite & Comédia & 1995 & 134 & 4 \\
			\hline
			Kolya & Comédia & 1996 & 94 & 5 \\
			\hline
			Birdcage, The & Comédia & 1996 & 231 & 4 \\
			\hline
			Full Monty, The & Comédia & 1997 & 252 & 4 \\
			\hline
		\end{tabular}
	\label{Cliente2_Mighty}
\end{table}

Devido à pouca quantidade de padrões para treinamento para o cliente 2, é possível observar na Tabela \ref{Cliente2_Apt} que o filme \emph{Apt Pupil}, com baixa avaliação, relaciona-se com outros que foram bem aprovados pelo cliente. Obviamente, a nota baixa não necessariamente deve ser encarado como uma evidência de que o sistema errou, pois fatores externos como um filme de tema, atores e produção boa, pode ter sido mal dirigido (na opinião do cliente).

\begin{table}[htbp]
	\centering
	\caption{Resultados para o cliente 2 e o filme \emph{Apt Pupil}}
		\begin{tabular}{|p{3.5cm}|p{3cm}|c|c|c|}
		  \hline
			\textbf{Título} & \textbf{Gênero} & \textbf{Ano} & \textbf{Número de locações} & \textbf{Avaliação} \\
			\hline
			Apt Pupil & Drama & 1998 & 136 & 1 \\
			\hline
			Wings of the Dove, The  & Drama/Romance/ Suspense & 1997 & 65 & 5 \\
			\hline
			Restoration & Drama & 1995 & 52 & 4 \\
			\hline
			Promesse, La & Drama & 1996 & 6 & 3 \\
			\hline
		\end{tabular}
	\label{Cliente2_Apt}
\end{table}

Nas tabelas seguintes é possível observar os resultados dos experimentos para outros clientes.

\begin{table}[htbp]
	\centering
	\caption{Resultados para o cliente 6 e o filme \emph{Il Postino}}
		\begin{tabular}{|p{3cm}|c|c|c|c|}
		  \hline
			\textbf{Título} & \textbf{Gênero} & \textbf{Ano} & \textbf{Número de locações} & \textbf{Avaliação} \\
			\hline
			Postino, Il & Drama/Romance & 1994 & 140 & 5 \\
			\hline
			Chasing Amy  & Drama/Romance & 1997 & 203 & 3 \\
			\hline
			Like Water For Chocolate & Drama/Romance & 1992 & 121 & 5 \\
			\hline
			Jerry Maguire & Drama/Romance & 1996 & 309 & 2 \\
			\hline
		\end{tabular}
	\label{Cliente6_Postino}
\end{table}

\begin{table}[htbp]
	\centering
	\caption{Resultados para o cliente 6 e o filme \emph{Pulp Fiction}}
		\begin{tabular}{|p{3cm}|c|c|c|c|}
		  \hline
			\textbf{Título} & \textbf{Gênero} & \textbf{Ano} & \textbf{Número de locações} & \textbf{Avaliação} \\
			\hline
			Pulp Fiction & Crime/Drama & 1994 & 312 & 4 \\
			\hline
			GoodFellas  & Crime/Drama & 1990 & 177 & 4 \\
			\hline
			Donnie Brasco & Crime/Drama & 1997 & 129 & 3 \\
			\hline
			Godfather, The & Crime/Drama & 1972 & 340 & 5 \\
			\hline
		\end{tabular}
	\label{Cliente6_Pulp}
\end{table}

Esses resultados experimentais, nos levam a crer que nossa proposta (i.e. o sistema proposto) correspondeu às expectativas, pois conseguiu ser um auxiliar nas decisões do cliente, trazendo boas respostas na maioria dos casos testados.